(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-632f5f8d","chunk-63a9f2a1"],{"0bfb":function(e,t,s){"use strict";var r=s("cb7c");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3846:function(e,t,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"4ec3":function(e,t){e.exports={dev:"http://oa.ea-mall.com:51888/CollarTicket",address:"http://oa.ea-mall.com:51888"}},"6b54":function(e,t,s){"use strict";s("3846");var r=s("cb7c"),n=s("0bfb"),a=s("9e1e"),o="toString",i=/./[o],l=function(e){s("2aba")(RegExp.prototype,o,e,!0)};s("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?l(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?n.call(e):void 0)}):i.name!=o&&l(function(){return i.call(this)})},"73b2":function(e,t,s){},"88a2":function(e,t,s){},"9ed6":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-page"},[s("div",{staticClass:"login-wrap"},[s("el-col",{class:e.translateLeft,attrs:{span:10}},[s("div",[s("div",{staticClass:"logo"},[s("div",{staticClass:"title"},[s("a",[e._v("\n              CollarTicket\n            ")])])]),s("div",{staticClass:"login-form"},[s("el-form",{ref:"ruleForm",attrs:{"label-width":"70px",model:e.ruleForm,rules:e.rules}},[s("el-form-item",{attrs:{label:"手机号",prop:"username"}},[s("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),s("el-form-item",{staticClass:"codeInp",attrs:{label:"验证码",prop:"password"}},[s("el-col",{attrs:{span:10}},[s("el-input",{staticClass:"pswInp",model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1)],1),s("el-form-item",{staticClass:"codeRecord"},[s("el-button",{ref:"getcode",staticClass:"codeBtn",attrs:{type:"primary"},on:{click:function(t){e.getCode()}}},[e._v("获取验证码")])],1),s("el-form-item",{staticClass:"btn"},[s("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){e.handleLogin("ruleForm")}}},[e._v("确定")])],1)],1)],1)])]),s("el-col",{class:e.translateRight,attrs:{span:14}},[s("div",{staticClass:"wallpaper"})])],1)])},n=[],a=(s("96cf"),s("3040")),o=(s("6b54"),s("a481"),s("cadf"),s("551c"),s("097d"),s("e4ba")),i=(s("5d2d"),60),l=function e(t){if(0==i)return t.removeAttribute("disabled"),t.style.color="#fff",t.style.backgroundColor="#41B883",t.style.border=0,t.innerHTML="获取验证码",void(i=60);t.setAttribute("disabled",!0),t.style.color=" #ccc",t.style.backgroundColor="#f5f5f5",t.style.border="1px solid #ddd",t.innerHTML=i+"秒后重新获取",i--,setTimeout(function(){e(t)},1e3)},c=s("4ec3"),u=s.n(c),d={name:"login",components:{langselect:o["default"]},data:function(){var e=function(e,t,s){if(!t)return s(new Error("手机号不能为空"));var r=/^1[3|4|5|7|8][0-9]\d{8}$/;if(console.log(r.test(t)),!r.test(t))return s(new Error("请输入正确的手机号"));s()},t=function(e,t,s){if(!t)return s(new Error("验证码不能为空"));var r=/^\d{6}$/;if(console.log(r.test(t)),!r.test(t))return s(new Error("请输入正确的验证码"));s()};return{lang:this.$store.state.app.language,ruleForm:{username:"",password:""},rules:{username:[{validator:e,trigger:"blur",required:!0}],password:[{validator:t,trigger:"blur",required:!0}]},remember:!0,loading:!1,switchLeft:!1,switchRight:!1,notforget:!0,forgetForm:{email:"",newPassword:"",confirmPassword:""}}},computed:{translateLeft:function(){return{"translate-left":!0,"login-col":!0,"switch-left":this.switchLeft}},translateRight:function(){return{"translate-right":!0,"login-col":!0,"switch-right":this.switchLeft}}},methods:{wrapSwitch:function(e){var t=this;this.switchLeft=!this.switchLeft,this.switchRight=!this.switchRight,setTimeout(function(){t.notforget=e,t.$refs["ruleForm"].resetFields()},300)},handleLogin:function(e){var t=this;this.loading=!0,this.$refs[e].validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(s){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s?(r=t,n=new XMLHttpRequest,n.open("post","".concat(u.a.dev,"/admin/checkUser"),!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send("phone="+t.ruleForm.username+"&code="+t.ruleForm.password),n.onreadystatechange=function(){if(200==n.status&&4==n.readyState){var e=JSON.parse(n.responseText);if(console.log(e),200==e.code){r.$message({message:e.msg,type:"success",duration:1e3});var t="admin",s=r.ruleForm.password;r.$store.dispatch("loginbyUser",{username:t.trim(),password:s});r.$notify.closeAll(),r.$router.push({path:"/"}),setTimeout(function(){window.location.href="/collarticket"},1500)}else 500==e.code&&(r.$message.error(e.msg),r.loading=!1)}}):(t.loading=!1,t.$message.error(t.$t("login.validfaild")));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},forgetHandle:function(){this.$message.success(this.$t("login.pwdChanged")),this.wrapSwitch(!0)},getCode:function(){""!=this.ruleForm.username&&11==this.ruleForm.username.length&&(this.$http.post("".concat(u.a.dev,"/user/sendSmsCode"),{phone:this.ruleForm.username},{emulateJSON:!0}).then(function(e){console.log(e)}),l(this.$refs.getcode.$el))}}},f=d,g=(s("9f08"),s("c6a28"),s("2877")),m=Object(g["a"])(f,r,n,!1,null,"7c82571f",null);m.options.__file="index.vue";t["default"]=m.exports},"9f08":function(e,t,s){"use strict";var r=s("bb7f"),n=s.n(r);n.a},bb7f:function(e,t,s){},c6a28:function(e,t,s){"use strict";var r=s("88a2"),n=s.n(r);n.a},d757:function(e,t,s){"use strict";var r=s("73b2"),n=s.n(r);n.a},e4ba:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"el-langselect"},[s("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[s("div",{staticClass:"el-langselect__box"},[s("icon",{staticClass:"el-langselect__icon",attrs:{name:"earth",scale:2.9}})],1),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"zh",disabled:"zh"===e.language}},[e._v("中文")]),s("el-dropdown-item",{attrs:{command:"en",disabled:"en"===e.language}},[e._v("English")])],1)],1)],1)},n=[],a={name:"langselect",computed:{language:function(){return this.$store.state.app.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("setLanguage",e);var t=this.$t("app.switchlang");this.$message({message:t,type:"success"})}}},o=a,i=(s("d757"),s("2877")),l=Object(i["a"])(o,r,n,!1,null,"f7ef7604",null);l.options.__file="index.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-632f5f8d.608b1a71.js.map